import{m as n,E as D,f as A,I as N,s as y,g as j,j as u,k,l as s,U as L,u as t,K as g,p as v,y as S,M as x}from"./vendor.2dec9c48.js";import{b,d as C,P as z,e as F,v as E}from"./index.6886dff5.js";import{I as M,_ as c}from"./IconPark.b1698cb0.js";import{_ as P}from"./plugin-vue_export-helper.21dcd24c.js";import{L as $,P as I,D as R,M as U}from"./PlayTwo.d033e4d4.js";import{P as W}from"./PlayOne.3ab5e2ab.js";var T=M("add",!1,function(e){return n("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[n("rect",{x:"6",y:"6",width:"36",height:"36",rx:"3",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),n("path",{d:"M24 16V32",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),n("path",{d:"M16 24L32 24",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])});const V=(e,l,a)=>{e=e.replace(/^http:\/\//,"https://"),console.log(e),fetch(e).then(m=>{m.blob().then(f=>{const h=URL.createObjectURL(f),i=document.createElement("a");i.href=h,i.download=l?l+a:"download"+a,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(h),D({type:"success",message:"\u4E0B\u8F7D\u6210\u529F"})})})};const q={class:"flex items-center justify-between flex-1 flex-shrink-0 pr-5"},O={class:"flex items-center flex-1 flex-shrink-0 w-10"},K={class:"truncate",style:{"max-width":"75%"}},G={key:0,class:"bg-red-500 text-xs text-white rounded px-0.5 scale-75"},H={class:"flex-shrink-0 hidden icon-action"},J={class:"flex items-center gap-x-1.5 text-gray-400 ml-2"},Q={class:"w-9/12 truncate"},X={class:"w-9/12 truncate"},Y={class:"flex-shrink-0 w-20"},Z={class:"w-20 truncate"},p=A({props:{song:null,showArName:{type:Boolean},showAlName:{type:Boolean},trackSong:{type:Boolean}},setup(e){const l=e,a=N(),{play:m}=b(),{setLike:f}=C(),{ids:h}=y(C()),{id:i}=y(b()),w=j(()=>h.value.includes(l.song.id)),B=async()=>{let r=await E(l.song.id);r.code===200?V(r.url,l.song.name,r.type.startsWith(".")?r.type:"."+r.type):D({type:"error",message:"\u4E0B\u8F7D\u5931\u8D25"})};return(r,o)=>(u(),k("div",{class:x(["flex items-center w-full song-item hover-bg-main",{playing:t(i)===e.song.id}]),onDblclick:o[5]||(o[5]=d=>t(m)(e.song.id))},[s("div",q,[s("div",O,[n(c,{onClick:o[0]||(o[0]=L(d=>t(f)(e.song.id,!t(w),e.trackSong),["stop"])),icon:t($),theme:t(w)?"filled":"outline",fill:t(w)?"#10b981":"#6b7280",size:"16",class:"mr-1 text-gray-500 cursor-pointer hover:text-emerald-500"},null,8,["icon","theme","fill"]),s("div",K,[s("small",null,g(e.song.name),1)]),e.song.fee===1?(u(),k("div",G," \u8BD5\u542C ")):v("",!0),e.song.mv>0?(u(),S(c,{key:1,class:"ml-2 text-orange-400 cursor-pointer",size:"16",icon:t(I),onClick:o[1]||(o[1]=d=>t(a).push({name:t(z).mvDetail,query:{id:e.song.mv}}))},null,8,["icon"])):v("",!0)]),s("div",H,[s("div",J,[n(c,{title:"\u64AD\u653E",icon:t(W),size:"20",class:"hover-text",onClick:o[2]||(o[2]=d=>t(m)(e.song.id))},null,8,["icon"]),n(c,{title:"\u6DFB\u52A0\u5230",icon:t(T),size:"16",class:"hover-text"},null,8,["icon"]),n(c,{onClick:L(B,["stop"]),title:"\u4E0B\u8F7D",icon:t(R),size:"16",class:"hover-text"},null,8,["onClick","icon"]),n(c,{title:"\u66F4\u591A\u64CD\u4F5C",icon:t(U),size:"16",class:"hover-text"},null,8,["icon"])])])]),e.showArName?(u(),k("div",{key:0,class:x(["flex-shrink-0",{"w-1/4":e.showAlName,"w-1/3":!e.showAlName}])},[s("div",Q,[s("small",{class:"max-w-full truncate hover-text",onClick:o[3]||(o[3]=d=>t(a).push({name:"artistDetail",query:{id:e.song.ar.first().id}}))},g(e.song.ar.first().name),1)])],2)):v("",!0),e.showAlName?(u(),k("div",{key:1,class:x(["flex-shrink-0",{"w-1/4":e.showArName,"w-1/3":!e.showArName}])},[s("div",X,[s("small",{class:"truncate hover-text",onClick:o[4]||(o[4]=d=>t(a).push({name:"album",query:{id:e.song.al.id}}))},g(e.song.al.name),1)])],2)):v("",!0),s("div",Y,[s("div",Z,[s("small",null,g(t(F)(e.song.dt/1e3)),1)])])],34))}});var ie=P(p,[["__scopeId","data-v-64137a6b"]]);export{ie as S};
